<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title>百度外卖</title>
    <!-- 导入 swiper 的css样式-->
    <link rel="stylesheet" href="lib/swiper/css/swiper.css">
    <link rel="stylesheet" href="./css/index.css">
</head>
<body>
    <!--loading页面-->
    <div class="loading">
        <div class="rider"></div>
        <div class="progress">
            <div class="step"></div>
        </div>
        <div class="info"></div>
        <!--外卖logo-->
        <div class="logo"></div>
        <!--版权信息-->
        <div class="copyright">
            @ 2018 BaiDu Waimai Produced
        </div>
    </div>
    <!--欢迎页面-->
    <div class="welcome">
        <div class="info">
            <div class="hello"></div>
        </div>
        <!--云-->
        <div class="cloud"></div>
        <!--草地-->
        <div class="grass1"></div>
        <!--熊-->
        <div class="bear-box">
            <div class="bear"></div>
            <div class="smoke"></div>
        </div>
        <!--树-->
        <div class="trees"></div>
        <!--草2-->
        <div class="grass2"></div>
        <!--按钮-->
        <div class="rotate-btn-box">
            <div class="btn"></div>
            <div class="circle1"></div>
            <div class="circle2"></div>
        </div>
    </div>
    <!--切换的页面 swiper 实现-->
    <div class="swiper-container">
        <div class="swiper-wrapper">
            <!--轮播页面1-->
            <div class="swiper-slide page1">
                <div class="title">
                    <h3>生活中,</h3>
                    <p>经常有这种时候...</p>
                    <div class="line"></div>
                </div>
                <!--轮播的盒子1-->
                <div class="scroll-page1">
                    <div class="bg"></div>
                    <div class="person">
                        <div class="files">
                            <!--纸一-->
                            <div class="paper1"></div>
                            <!--纸二-->
                            <div class="paper2"></div>
                        </div>
                    </div>
                    <div class="sphere"></div>
                    <div class="message-container">
                        <div class="info"></div>
                    </div>
                </div>
                <!--轮播的盒子2-->
                <div class="scroll-page2">
                    <div class="bg"></div>
                    <div class="person">
                        <div class="eye"></div>
                    </div>
                    <div class="sphere"></div>
                    <div class="message-container">
                        <div class="info"></div>
                    </div>
                </div>
                <!--轮播的盒子3-->
                <div class="scroll-page3">
                    <div class="bg"></div>
                    <div class="person">
                        <div class="word1"></div>
                        <div class="word2"></div>
                        <div class="word3"></div>
                        <div class="word4"></div>
                    </div>
                    <div class="sphere"></div>
                    <div class="message-container">
                        <div class="info"></div>
                    </div>
                </div>
                <!--熊-->
                <div class="bear"></div>
            </div>
            <!--轮播页面2-->
            <div class="swiper-slide page2">
                <div class="title">
                    <h3>这时候,</h3>
                    <p>如果有一份美味外卖...<br>刚好出现</p>
                    <div class="line"></div>
                </div>
                <div class="bg"></div>
                <div class="sphere"></div>
                <div class="bear">
                    <div class="leg"></div>
                    <div class="face1"></div>
                    <div class="face2"></div>
                </div>
            </div>
            <!--轮播页面3-->
            <div class="swiper-slide page3">
                <div class="title">
                    <h3>这时候,</h3>
                    <p>如果一碗地沟油炒饭<br>刚好送到...</p>
                    <div class="line"></div>
                </div>
                <div class="bg"></div>
                <div class="sphere"></div>
                <div class="content">
                    <div class="person">
                        <div class="word1"></div>
                        <div class="word2"></div>
                        <div class="iphone">
                            <div class="hand"></div>
                        </div>
                    </div>
                </div>
            </div>
            <!--轮播页面4-->
            <div class="swiper-slide page4">
                <div class="title">
                    <h3>小熊外卖,</h3>
                    <p>绝对不送地沟油!</p>
                    <div class="line"></div>
                </div>
                <div class="bg"></div>
                <div class="sphere"></div>
                <div class="bear"></div>
                <div class="care1"></div>
                <div class="care2"></div>
                <div class="care3"></div>
            </div>
            <!--轮播页面5-->
            <div class="swiper-slide page5">
                <div class="title">
                    <h3>只要不下刀子</h3>
                    <p>下什么...<br>我们都准时送达</p>
                    <div class="line"></div>
                </div>
                <div class="bg"></div>
                <div class="sphere"></div>
                <div class="cloud">
                    <div class="snow"></div>
                    <div class="snow"></div>
                    <div class="snow"></div>
                    <div class="snow"></div>
                    <div class="snow"></div>
                    <div class="snow"></div>
                </div>
                <div class="bear">
                    <div class="smoke"></div>
                </div>
            </div>
            <!--轮播页面6-->
            <div class="swiper-slide page6">
                <div class="title">
                    <h3>丰富礼品</h3>
                    <p>让你边吃,边省钱...</p>
                    <div class="line"></div>
                </div>
                <div class="bg"></div>
                <div class="sphere"></div>
                <div class="bear">
                    <div class="gift-box">
                        <div class="gift1"></div>
                        <div class="gift2"></div>
                        <div class="gift3"></div>
                        <div class="gift4"></div>
                        <div class="gift5"></div>
                        <div class="gift6"></div>
                        <div class="gift7"></div>
                        <div class="gift8"></div>
                        <div class="gift9"></div>
                        <div class="gift10"></div>
                        <div class="gift11"></div>
                        <div class="gift12"></div>
                    </div>
                </div>
            </div>
            <!--轮播页面7-->
            <div class="swiper-slide page7">
                <div class="title">
                    <h3>所有的努力</h3>
                    <p>就是为了健康美味的外面...<br>呈现给你...</p>
                    <div class="line"></div>
                </div>
                <div class="streetlight">
                    <div class="light"></div>
                </div>
                <div class="sphere"></div>
                <div class="motobike"></div>
                <div class="share"></div>
                <div class="info">waimai.baidu.com</div>
            </div>
        </div>
    </div>

    <!--音频播放按钮-->
    <audio loop src="./music/bgm.mp3"></audio>
    <input type="button" class="audioControl">

</body>
<script type="text/javascript" src="lib/swiper/js/swiper.min.js"></script>
<!--导入 zepto -->
<script type="text/javascript" src="lib/zepto/zepto.js"></script>
<script type="text/javascript" src="lib/zepto/event.js"></script>
<script type="text/javascript" src="lib/zepto/fx.js"></script>
<script type="text/javascript" src="lib/zepto/touch.js"></script>
<!--提供fadeout方法-->
<script type="text/javascript" src="lib/zepto/fx_methods.js"></script>
<script>
    //  设置 swiper
    var swiper = new Swiper(".swiper-container",{
        direction: "vertical",          // 改变默认排列方向
        //  添加回调函数
        onSlideChangeEnd: function(swiper){
            //  alert(swiper.activeIndex)   切换结束时,告诉我现在是第几个slide
            $(".swiper-slide").eq(swiper.activeIndex).addClass("animate").siblings().removeClass("animate");
        }
    });

    /*// 点击消失
    $(".loading").click(function(){
        $(this).fadeOut();
    });
    $(".welcome").click(function(){
        $(this).fadeOut();
    });*/

    // 1.页面打开  稍等一会  开启定时器
    $(function(){
        // 第一页js 效果
        setTimeout(function(){
            $(".loading").addClass("animate");

            /*document.querySelector(".loading .step").addEventListener("animationend",function(){
                console.log("动画播放完成!");
            });*/

            $(".loading .step").on("animationend",function(){
                $(".loading").fadeOut(1000,function(){
                    // 淡出之后 为 welcome 添加 animate
                    $(".welcome").addClass("animate");
                });
            });
        },1000);

        // 第二页 的按钮长按效果      zepto ==> touch.js
        $(".welcome .rotate-btn-box").longTap(function () {
            //  console.log("长按效果触发了!");
            $(".bear-box").css("animation","bearDisappear 1s forwards");

            setTimeout(function(){
                $(".welcome").fadeOut(1000,function(){
                    $(".page1").addClass("animate");
                });
            },1000)
        })
    });

    // 为按钮绑定点击事件  控制音频播放
    var audioDom = document.querySelector("audio");
    $(".audioControl").click(function(){
        if(audioDom.paused == true){
            audioDom.play();
            $(this).css("background-image","url(./images/music/pause.png)")
        }else{
            audioDom.pause();
            $(this).css("background-image","url(./images/music/play.png)")
        }
    });

</script>
</html>